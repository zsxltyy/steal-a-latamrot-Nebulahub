--// ðŸŒŒ NebulaHub - Steal a Latamrot (Full Version with Key System) ðŸŒŒ //-- 

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

--// KEY SETUP
local validKey = "10ko57cl69"
local keyAccepted = false
local keyLink = "https://linkvertise.com/1443607/JNXqZHX147qx?o=sharing"

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = player:WaitForChild("PlayerGui")

--// KEY FRAME
local KeyFrame = Instance.new("Frame")
KeyFrame.Parent = ScreenGui
KeyFrame.Size = UDim2.new(0, 300, 0, 170)
KeyFrame.Position = UDim2.new(0.5, -150, 0.4, -85)
KeyFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
KeyFrame.BorderSizePixel = 0
KeyFrame.Active = true
KeyFrame.Draggable = true

-- Title
local KeyTitle = Instance.new("TextLabel")
KeyTitle.Parent = KeyFrame
KeyTitle.Size = UDim2.new(1, 0, 0, 30)
KeyTitle.Position = UDim2.new(0,0,0,0)
KeyTitle.BackgroundTransparency = 1
KeyTitle.Text = "Enter your key to unlock NebulaHub"
KeyTitle.TextColor3 = Color3.fromRGB(255,255,255)
KeyTitle.Font = Enum.Font.GothamBold
KeyTitle.TextSize = 16

-- TextBox for Key
local KeyBox = Instance.new("TextBox")
KeyBox.Parent = KeyFrame
KeyBox.Size = UDim2.new(0.8, 0, 0, 40)
KeyBox.Position = UDim2.new(0.1,0,0,50)
KeyBox.PlaceholderText = "Enter Key Here"
KeyBox.Text = ""
KeyBox.TextColor3 = Color3.fromRGB(0,0,0)
KeyBox.BackgroundColor3 = Color3.fromRGB(255,255,255)
KeyBox.Font = Enum.Font.GothamBold
KeyBox.TextSize = 16

-- Button to Verify Key
local VerifyBtn = Instance.new("TextButton")
VerifyBtn.Parent = KeyFrame
VerifyBtn.Size = UDim2.new(0.35, 0, 0, 35)
VerifyBtn.Position = UDim2.new(0.1, 0, 0, 100)
VerifyBtn.BackgroundColor3 = Color3.fromRGB(0,200,50)
VerifyBtn.Text = "Verify Key"
VerifyBtn.TextColor3 = Color3.fromRGB(255,255,255)
VerifyBtn.Font = Enum.Font.GothamBold
VerifyBtn.TextSize = 16
VerifyBtn.BorderSizePixel = 0

-- Button to Open Key Link
local LinkBtn = Instance.new("TextButton")
LinkBtn.Parent = KeyFrame
LinkBtn.Size = UDim2.new(0.45, 0, 0, 35)
LinkBtn.Position = UDim2.new(0.5, 0, 0, 100)
LinkBtn.BackgroundColor3 = Color3.fromRGB(255,50,50)
LinkBtn.Text = "Get Key"
LinkBtn.TextColor3 = Color3.fromRGB(255,255,255)
LinkBtn.Font = Enum.Font.GothamBold
LinkBtn.TextSize = 16
LinkBtn.BorderSizePixel = 0

-- Label for "Link copied!" message
local CopiedLabel = Instance.new("TextLabel")
CopiedLabel.Parent = KeyFrame
CopiedLabel.Size = UDim2.new(0.9, 0, 0, 25)
CopiedLabel.Position = UDim2.new(0.05, 0, 0, 140)
CopiedLabel.BackgroundTransparency = 1
CopiedLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
CopiedLabel.Font = Enum.Font.GothamBold
CopiedLabel.TextSize = 16
CopiedLabel.Text = ""
CopiedLabel.TextWrapped = true

-- Verify Key Logic
VerifyBtn.MouseButton1Click:Connect(function()
	if KeyBox.Text == validKey then
		keyAccepted = true
		KeyFrame.Visible = false
		warn("[NebulaHub] Key accepted! Access granted.")
		initNebulaHub() -- initialize main GUI
	else
		warn("[NebulaHub] Invalid key! Try again.")
	end
end)

-- Open Key Link Logic
LinkBtn.MouseButton1Click:Connect(function()
	setclipboard(keyLink)
	CopiedLabel.Text = "Link copied to clipboard!"
	delay(3, function()
		CopiedLabel.Text = ""
	end)
	warn("[NebulaHub] Key page link copied to clipboard: "..keyLink)
end)

--// MAIN HUB FUNCTION
function initNebulaHub()
	-- Main Frame (hidden initially)
	local Frame = Instance.new("Frame")
	Frame.Parent = ScreenGui
	Frame.Size = UDim2.new(0, 250, 0, 300)
	Frame.Position = UDim2.new(0.7, 0, 0.3, 0)
	Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	Frame.BackgroundTransparency = 0.2
	Frame.BorderSizePixel = 0
	Frame.Active = true
	Frame.Draggable = true
	Frame.Visible = false

	-- Title
	local Title = Instance.new("TextLabel")
	Title.Parent = Frame
	Title.Text = "ðŸŒŒ NebulaHub - Steal a Latamrot ðŸŒŒ"
	Title.Size = UDim2.new(1, 0, 0, 30)
	Title.BackgroundTransparency = 1
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 16

	-- Button creator
	local function createButton(text, yPos, color)
		local btn = Instance.new("TextButton")
		btn.Parent = Frame
		btn.Size = UDim2.new(0.9, 0, 0, 35)
		btn.Position = UDim2.new(0.05, 0, 0, yPos)
		btn.BackgroundColor3 = color
		btn.Text = text
		btn.TextColor3 = Color3.fromRGB(255,255,255)
		btn.Font = Enum.Font.GothamBold
		btn.TextSize = 15
		btn.BorderSizePixel = 0
		return btn
	end

	local savedPosition = nil

	-- Set Position
	local setBtn = createButton("Set Position", 40, Color3.fromRGB(255, 80, 80))
	setBtn.MouseButton1Click:Connect(function()
		character = player.Character or player.CharacterAdded:Wait()
		if character and character:FindFirstChild("HumanoidRootPart") then
			savedPosition = character.HumanoidRootPart.Position
			print("[NebulaHub] Position saved:", savedPosition)
		end
	end)

	-- Teleport
	local tpBtn = createButton("Teleport to Position", 85, Color3.fromRGB(255, 80, 80))
	tpBtn.MouseButton1Click:Connect(function()
		character = player.Character or player.CharacterAdded:Wait()
		if savedPosition and character and character:FindFirstChild("HumanoidRootPart") then
			character.HumanoidRootPart.CFrame = CFrame.new(savedPosition + Vector3.new(0,3,0))
			print("[NebulaHub] Teleported to saved position.")
		else
			warn("[NebulaHub] No saved position found!")
		end
	end)

	-- Speed Boost
	local speedBtn = createButton("Speed Boost: Off", 130, Color3.fromRGB(255, 80, 80))
	local speedOn = false
	local originalSpeed = humanoid.WalkSpeed
	speedBtn.MouseButton1Click:Connect(function()
		speedOn = not speedOn
		if speedOn then
			originalSpeed = humanoid.WalkSpeed
			humanoid.WalkSpeed = 100
			speedBtn.Text = "Speed Boost: On"
		else
			humanoid.WalkSpeed = originalSpeed
			speedBtn.Text = "Speed Boost: Off"
		end
	end)

	-- Noclip
	local noclipBtn = createButton("Noclip: Off", 175, Color3.fromRGB(255, 80, 80))
	local noclip = false
	noclipBtn.MouseButton1Click:Connect(function()
		noclip = not noclip
		noclipBtn.Text = noclip and "Noclip: On" or "Noclip: Off"
	end)

	game:GetService("RunService").Stepped:Connect(function()
		if noclip and player.Character then
			for _, part in pairs(player.Character:GetDescendants()) do
				if part:IsA("BasePart") then
					part.CanCollide = false
				end
			end
		end
	end)

	-- Discord
	local discordBtn = createButton("Discord", 220, Color3.fromRGB(80,120,255))
	discordBtn.MouseButton1Click:Connect(function()
		setclipboard("https://discord.gg/nsWY4CRj5A")
	end)

	-- Red toggle button
	local ToggleButton = Instance.new("TextButton")
	ToggleButton.Parent = ScreenGui
	ToggleButton.Size = UDim2.new(0, 50, 0, 50)
	ToggleButton.Position = UDim2.new(0.05, 0, 0.8, 0)
	ToggleButton.BackgroundColor3 = Color3.fromRGB(255,50,50)
	ToggleButton.Text = "+"
	ToggleButton.TextColor3 = Color3.fromRGB(255,255,255)
	ToggleButton.Font = Enum.Font.GothamBold
	ToggleButton.TextSize = 30
	ToggleButton.BorderSizePixel = 0
	ToggleButton.Active = true
	ToggleButton.Draggable = true
	ToggleButton.AnchorPoint = Vector2.new(0.5,0.5)
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(1,0)
	corner.Parent = ToggleButton

	local guiVisible = false
	ToggleButton.MouseButton1Click:Connect(function()
		guiVisible = not guiVisible
		Frame.Visible = guiVisible
		ToggleButton.Text = guiVisible and "â€“" or "+"
	end)
end
