--// üåå NebulaHub - Full Auto Version üåå //--
local player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")
local keyFile = "nebulahub_key.txt"
local validKey = "10ko57cl69"
local keyLink = "https://linkvertise.com/1443607/JNXqZHX147qx?o=sharing"

-- Noclip v√°ltoz√≥k  
local noclip = false
local currentCharacter = player.Character or player.CharacterAdded:Wait()
local noclipConnection

-- Mentett poz√≠ci√≥
local savedPosition = nil

-- Speed v√°ltoz√≥k
local speedOn = false
local defaultSpeed = 16
local speedBtn -- gomb referenci√°ja

-- Humanoid lek√©r√©se
local function getHumanoid()
    currentCharacter = player.Character
    return currentCharacter and currentCharacter:FindFirstChildOfClass("Humanoid")
end

-- Noclip toggle funkci√≥
local function toggleNoclip(state)
    noclip = state
    if noclipConnection then
        noclipConnection:Disconnect()
        noclipConnection = nil
    end
    if noclip then
        noclipConnection = RunService.Heartbeat:Connect(function()
            if currentCharacter then
                for _, part in pairs(currentCharacter:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if currentCharacter then
            for _, part in pairs(currentCharacter:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end

-- Speed Boost toggle
local function toggleSpeed()
    speedOn = not speedOn
    local humanoid = getHumanoid()
    if humanoid then
        if speedOn then
            humanoid.WalkSpeed = 100
            if speedBtn then speedBtn.Text = "Speed Boost: On" end
        else
            humanoid.WalkSpeed = defaultSpeed
            if speedBtn then speedBtn.Text = "Speed Boost: Off" end
        end
    end
end

-- GUI l√©trehoz√°sa
local function initNebulaHub()
    currentCharacter = player.Character or player.CharacterAdded:Wait()
    local humanoid = getHumanoid()
    if humanoid then
        defaultSpeed = humanoid.WalkSpeed
        if speedOn then humanoid.WalkSpeed = 100 end
    end

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "NebulaHubGUI"
    ScreenGui.Parent = player:WaitForChild("PlayerGui")

    local Frame = Instance.new("Frame")
    Frame.Parent = ScreenGui
    Frame.Size = UDim2.new(0, 250, 0, 300)
    Frame.Position = UDim2.new(0.7, 0, 0.3, 0)
    Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    Frame.BorderSizePixel = 0
    Frame.Active = true
    Frame.Draggable = true
    Frame.Visible = true

    local Title = Instance.new("TextLabel")
    Title.Parent = Frame
    Title.Text = "NebulaHub - Steal a Latamrot üåå"
    Title.Size = UDim2.new(1,0,0,30)
    Title.BackgroundTransparency = 1
    Title.TextColor3 = Color3.fromRGB(255,255,255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16

    local function createButton(text,yPos,color)
        local btn = Instance.new("TextButton")
        btn.Parent = Frame
        btn.Size = UDim2.new(0.9,0,0,35)
        btn.Position = UDim2.new(0.05,0,0,yPos)
        btn.BackgroundColor3 = color
        btn.Text = text
        btn.TextColor3 = Color3.fromRGB(255,255,255)
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 15
        btn.BorderSizePixel = 0
        return btn
    end

    -- Set/Tp Position
    local setBtn = createButton("Set Position",40,Color3.fromRGB(255,80,80))
    setBtn.MouseButton1Click:Connect(function()
        currentCharacter = player.Character or player.CharacterAdded:Wait()
        if currentCharacter and currentCharacter:FindFirstChild("HumanoidRootPart") then
            savedPosition = currentCharacter.HumanoidRootPart.Position
            print("[NebulaHub] Position saved:", savedPosition)
        end
    end)

    local tpBtn = createButton("Teleport to Position",85,Color3.fromRGB(255,80,80))
    tpBtn.MouseButton1Click:Connect(function()
        currentCharacter = player.Character or player.CharacterAdded:Wait()
        if savedPosition and currentCharacter and currentCharacter:FindFirstChild("HumanoidRootPart") then
            currentCharacter.HumanoidRootPart.CFrame = CFrame.new(savedPosition + Vector3.new(0,3,0))
            print("[NebulaHub] Teleported to saved position.")
        else
            warn("[NebulaHub] No saved position!")
        end
    end)

    -- Speed Boost
    speedBtn = createButton("Speed Boost: Off",130,Color3.fromRGB(255,80,80))
    speedBtn.MouseButton1Click:Connect(toggleSpeed)

    -- Noclip
    local noclipBtn = createButton("Noclip: Off",175,Color3.fromRGB(255,80,80))
    noclipBtn.MouseButton1Click:Connect(function()
        toggleNoclip(not noclip)
        noclipBtn.Text = noclip and "Noclip: On" or "Noclip: Off"
    end)

    -- Discord
    local discordBtn = createButton("Discord",220,Color3.fromRGB(80,120,255))
    discordBtn.MouseButton1Click:Connect(function()
        setclipboard("https://discord.gg/nsWY4CRj5A")
    end)

    -- GUI Toggle
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Parent = ScreenGui
    ToggleButton.Size = UDim2.new(0,50,0,50)
    ToggleButton.Position = UDim2.new(0.05,0,0.8,0)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(255,50,50)
    ToggleButton.Text = "+"
    ToggleButton.TextColor3 = Color3.fromRGB(255,255,255)
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.TextSize = 30
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Active = true
    ToggleButton.Draggable = true
    ToggleButton.AnchorPoint = Vector2.new(0.5,0.5)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1,0)
    corner.Parent = ToggleButton

    local guiVisible = true
    ToggleButton.MouseButton1Click:Connect(function()
        guiVisible = not guiVisible
        Frame.Visible = guiVisible
        ToggleButton.Text = guiVisible and "‚Äì" or "+"
    end)
end

-- Key ellen≈ërz√©s
local function checkKey()
    local key = ""
    if isfile(keyFile) then
        key = readfile(keyFile)
    end

    if key == validKey then
        if not player:FindFirstChild("PlayerGui"):FindFirstChild("NebulaHubGUI") then
            initNebulaHub()
        end
    else
        local ScreenGui = Instance.new("ScreenGui")
        ScreenGui.Parent = player:WaitForChild("PlayerGui")
        local KeyFrame = Instance.new("Frame")
        KeyFrame.Parent = ScreenGui
        KeyFrame.Size = UDim2.new(0,300,0,200)
        KeyFrame.Position = UDim2.new(0.5,-150,0.4,-100)
        KeyFrame.BackgroundColor3 = Color3.fromRGB(40,40,40)
        KeyFrame.BorderSizePixel = 0
        KeyFrame.Active = true
        KeyFrame.Draggable = true

        local KeyBox = Instance.new("TextBox")
        KeyBox.Parent = KeyFrame
        KeyBox.Size = UDim2.new(0.8,0,0,40)
        KeyBox.Position = UDim2.new(0.1,0,0,50)
        KeyBox.PlaceholderText = "Enter Key Here"
        KeyBox.TextColor3 = Color3.fromRGB(0,0,0)
        KeyBox.BackgroundColor3 = Color3.fromRGB(255,255,255)
        KeyBox.Font = Enum.Font.GothamBold
        KeyBox.TextSize = 16

        local VerifyBtn = Instance.new("TextButton")
        VerifyBtn.Parent = KeyFrame
        VerifyBtn.Size = UDim2.new(0.35,0,0,35)
        VerifyBtn.Position = UDim2.new(0.1,0,0,110)
        VerifyBtn.BackgroundColor3 = Color3.fromRGB(0,200,50)
        VerifyBtn.Text = "Verify Key"
        VerifyBtn.TextColor3 = Color3.fromRGB(255,255,255)
        VerifyBtn.Font = Enum.Font.GothamBold
        VerifyBtn.TextSize = 16
        VerifyBtn.BorderSizePixel = 0

        local GetKeyBtn = Instance.new("TextButton")
        GetKeyBtn.Parent = KeyFrame
        GetKeyBtn.Size = UDim2.new(0.35,0,0,35)
        GetKeyBtn.Position = UDim2.new(0.55,0,0,110)
        GetKeyBtn.BackgroundColor3 = Color3.fromRGB(50,120,255)
        GetKeyBtn.Text = "Get Key"
        GetKeyBtn.TextColor3 = Color3.fromRGB(255,255,255)
        GetKeyBtn.Font = Enum.Font.GothamBold
        GetKeyBtn.TextSize = 16
        GetKeyBtn.BorderSizePixel = 0

        VerifyBtn.MouseButton1Click:Connect(function()
            if KeyBox.Text == validKey then
                writefile(keyFile, KeyBox.Text)
                KeyFrame:Destroy()
                initNebulaHub()
            else
                warn("[NebulaHub] Invalid key!")
            end
        end)

        GetKeyBtn.MouseButton1Click:Connect(function()
            setclipboard(keyLink)
            print("[NebulaHub] Key link copied to clipboard!")
        end)
    end
end

-- Karakter spawn figyel√©se (hal√°l ut√°n √∫jra l√©trehozza a GUI-t √©s vissza√°ll√≠tja a funkci√≥kat)
player.CharacterAdded:Connect(function(char)
    currentCharacter = char
    local humanoid = getHumanoid()
    if humanoid then
        humanoid.WalkSpeed = speedOn and 100 or defaultSpeed
    end
    checkKey()
end)

-- Els≈ë futtat√°s
checkKey()
